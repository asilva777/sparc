<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SPARC Assessment</title>
  <link rel="stylesheet" href="style.css" />
  /* Import Montserrat Font */
@import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');

body {
  font-family: 'Montserrat', sans-serif;
  background-color: #f9f9f9;
  margin: 0;
  padding: 0;
}

.container {
  max-width: 800px;
  margin: auto;
  padding: 20px;
}

.card {
  background-color: #ffffff;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.hidden {
  display: none;
}

button {
  background-color: #007BFF; /* ASilva Innovations Blue */
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  margin: 5px;
}

button:hover {
  background-color: #0056b3;
}

</head>
<body>
  <div class="container">
    <header>
      <h1>SPARC Resilience Check</h1>
      <p>Use the CASE equation to assess your business‚Äôs disaster preparedness.</p>
    </header>

    <label for="firstName">First Name:</label>
    <input type="text" id="firstName" name="firstName" maxlength="140" required>
    
    <label for="lastName">Last Name:</label>
    <input type="text" id="lastName" name="lastName" maxlength="140" required>
    
    <label for="organization">Organization / Enterprise:</label>
    <input type="text" id="organization" name="organization" maxlength="140" required>
    
    <label for="position">Position / Designation:</label>
    <input type="text" id="position" name="position" maxlength="140" required>
    
    <label for="contact">Email Address & Contact Number:</label>
    <input type="text" id="contact" name="contact" maxlength="140" required>
  </fieldset>

    <form id="sparcForm">

      <div class="card" id="step-0">
        <h2>Personal Information</h2>
        <label>First Name: <input type="text" name="firstName" required></label>
        <label>Last Name: <input type="text" name="lastName" required></label>
        <label>Email: <input type="email" name="email" required></label>
        <button type="button" onclick="nextStep()">Proceed</button>
      </div>

      <div class="card hidden" id="step-1">
        <h2>Coping Capacity</h2>
        <label>Emergency funds available: <input type="number" min="1" max="5" required></label>
        <label>Emergency supplies maintained: <input type="number" min="1" max="5" required></label>
        <label>Staff trained for response: <input type="number" min="1" max="5" required></label>
        <label>Roles during crisis are clear: <input type="number" min="1" max="5" required></label>
        <label>Communication protocols: <input type="number" min="1" max="5" required></label>
        <button type="button" onclick="prevStep()">Back</button>
        <button type="button" onclick="nextStep()">Proceed</button>
      </div>

      <div class="card hidden" id="step-2">
        <h2>Adaptability</h2>
        <label>Business continuity plan: <input type="number" min="1" max="5" required></label>
        <label>Can adapt quickly: <input type="number" min="1" max="5" required></label>
        <label>Learning from changes: <input type="number" min="1" max="5" required></label>
        <label>Encouraged innovation: <input type="number" min="1" max="5" required></label>
        <label>Operations adapted post-crisis: <input type="number" min="1" max="5" required></label>
        <button type="button" onclick="prevStep()">Back</button>
        <button type="button" onclick="nextStep()">Proceed</button>
      </div>

      <div class="card hidden" id="step-3">
        <h2>Sensitivity Reduction</h2>
        <label>Risk assessment done: <input type="number" min="1" max="5" required></label>
        <label>Backups in place: <input type="number" min="1" max="5" required></label>
        <label>No single failure points: <input type="number" min="1" max="5" required></label>
        <label>Asset protection: <input type="number" min="1" max="5" required></label>
        <label>Insurance coverage: <input type="number" min="1" max="5" required></label>
        <button type="button" onclick="prevStep()">Back</button>
        <button type="button" onclick="nextStep()">Proceed</button>
      </div>

      <div class="card hidden" id="step-4">
        <h2>Exposure Control</h2>
        <label>Safe location: <input type="number" min="1" max="5" required></label>
        <label>Low-risk suppliers: <input type="number" min="1" max="5" required></label>
        <label>Resilient utilities: <input type="number" min="1" max="5" required></label>
        <label>Partner readiness: <input type="number" min="1" max="5" required></label>
        <label>Diverse customers: <input type="number" min="1" max="5" required></label>
        <button type="button" onclick="prevStep()">Back</button>
        <button type="submit">Calculate Resilience</button>
      </div>

    </form>

    <div id="result" class="card hidden">
      <h2>Your Resilience Score</h2>
      <p id="score"></p>
      <div id="breakdown"></div>
    </div>
  </div>

  <script src="document.getElementById("sparcForm").addEventListener("submit", function (e) {
  e.preventDefault();

  const inputs = Array.from(document.querySelectorAll('input[type="number"]')).map(input =>
    parseInt(input.value)
  );

  const avg = (arr) => arr.reduce((a, b) => a + b, 0) / arr.length;

  const coping = inputs.slice(0, 5);
  const adaptability = inputs.slice(5, 10);
  const sensitivity = inputs.slice(10, 15);
  const exposure = inputs.slice(15, 20);

  const avgC = avg(coping);
  const avgA = avg(adaptability);
  const avgS = avg(sensitivity);
  const avgE = avg(exposure);

  const resilienceScore = (avgC + avgA) - (avgS + avgE);

  let interpretation = '';
  let recommendation = '';

  if (resilienceScore >= 6) {
    interpretation = "üèÜ Excellent resilience. Your business is well-prepared for disasters.";
    recommendation = "As a resilience expert, I commend your proactive measures. To maintain this level, consider exploring ASilva Innovations' [Resources](https://asilvainnovations.com/resources) for the latest best practices.";
  } else if (resilienceScore >= 3) {
    interpretation = "‚úÖ Good resilience. There's some room for improvement.";
    recommendation = "You're on the right track. To enhance your preparedness, explore ASilva Innovations' [Solutions](https://asilvainnovations.com/solutions) tailored to your needs.";
  } else if (resilienceScore >= 0) {
    interpretation = "‚ö†Ô∏è Moderate resilience. Consider strengthening weak areas.";
    recommendation = "Identifying and addressing vulnerabilities is crucial. Engage with ASilva Innovations' [Services](https://asilvainnovations.com/solutions) to develop a comprehensive resilience strategy.";
  } else {
    interpretation = "‚ùó Low resilience. Immediate action is recommended.";
    recommendation = "Your business faces significant risks. It's imperative to consult with ASilva Innovations' [Services](https://asilvainnovations.com/solutions) to formulate a robust disaster preparedness plan.";
  }

  document.getElementById("result").classList.remove("hidden");
  document.getElementById("score").innerHTML = `<strong>Average Resilience Score:</strong> ${resilienceScore.toFixed(2)}<br>${interpretation}`;
  document.getElementById("breakdown").innerHTML = `
    <ul>
      <li><strong>Avg Coping Capacity (C):</strong> ${avgC.toFixed(2)}</li>
      <li><strong>Avg Adaptability (A):</strong> ${avgA.toFixed(2)}</li>
      <li><strong>Avg Sensitivity Reduction (S):</strong> ${avgS.toFixed(2)}</li>
      <li><strong>Avg Exposure Control (E):</strong> ${avgE.toFixed(2)}</li>
    </ul>
    <p>${recommendation}</p>
  `;
});
"></script>
</body>
</html>
